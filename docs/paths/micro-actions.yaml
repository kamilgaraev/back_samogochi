/micro-actions:
  get:
    tags:
      - Micro Actions
    summary: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—ã—Ç–∞
    security:
      - bearerAuth: []
    parameters:
      - name: category
        in: query
        description: –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
        required: false
        schema:
          type: string
          enum: [relaxation, exercise, creativity, social]
          example: "relaxation"
    responses:
      '200':
        description: –°–ø–∏—Å–æ–∫ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–°–ø–∏—Å–æ–∫ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω"
                data:
                  type: object
                  properties:
                    micro_actions:
                      type: array
                      items:
                        $ref: '../openapi.yaml#/components/schemas/MicroAction'
                    player_info:
                      type: object
                      description: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏–≥—Ä–æ–∫–µ (–¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)"
                      properties:
                        current_energy:
                          type: integer
                          example: 85
                        level:
                          type: integer
                          example: 3
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
                    stats:
                      type: object
                      properties:
                        total_performed:
                          type: integer
                          example: 89
                          description: "–í—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π"
                        today_performed:
                          type: integer
                          example: 3
                          description: "–í—ã–ø–æ–ª–Ω–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è"
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '422':
        description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏"
                errors:
                  type: object

/micro-actions/recommendations:
  get:
    tags:
      - Micro Actions
    summary: –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞ (—É—Ä–æ–≤–µ–Ω—å —ç–Ω–µ—Ä–≥–∏–∏, —Å—Ç—Ä–µ—Å—Å, —É—Ä–æ–≤–µ–Ω—å)
    security:
      - bearerAuth: []
    responses:
      '200':
        description: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã"
                data:
                  type: object
                  properties:
                    recommendations:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          name:
                            type: string
                            example: "–ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 4-7-8"
                          description:
                            type: string
                            example: "–¢–µ—Ö–Ω–∏–∫–∞ –¥—ã—Ö–∞–Ω–∏—è: –≤–¥–æ—Ö –Ω–∞ 4 —Å—á–µ—Ç–∞, –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ 7, –≤—ã–¥–æ—Ö –Ω–∞ 8."
                          category:
                            type: object
                            properties:
                              value:
                                type: string
                                example: "relaxation"
                              label:
                                type: string
                                example: "–†–µ–ª–∞–∫—Å–∞—Ü–∏—è"
                              icon:
                                type: string
                                example: "üßò"
                          energy_reward:
                            type: integer
                            example: 15
                          experience_reward:
                            type: integer
                            example: 8
                          can_perform:
                            type: boolean
                            example: true
                    based_on:
                      type: object
                      description: "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ—Ç–æ—Ä—ã—Ö —Å–¥–µ–ª–∞–Ω—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"
                      properties:
                        energy_level:
                          type: integer
                          example: 85
                        stress_level:
                          type: integer
                          example: 45
                        player_level:
                          type: integer
                          example: 3
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
      '404':
        description: –ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'

/micro-actions/history:
  get:
    tags:
      - Micro Actions
    summary: –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–º
    security:
      - bearerAuth: []
    parameters:
      - name: limit
        in: query
        description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
        required: false
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
    responses:
      '200':
        description: –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—É—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–ò—Å—Ç–æ—Ä–∏—è –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–∞"
                data:
                  type: object
                  properties:
                    history:
                      type: array
                      items:
                        type: object
                        properties:
                          micro_action_name:
                            type: string
                            example: "–ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 4-7-8"
                          category:
                            type: object
                            properties:
                              value:
                                type: string
                                example: "relaxation"
                              label:
                                type: string
                                example: "–†–µ–ª–∞–∫—Å–∞—Ü–∏—è"
                              icon:
                                type: string
                                example: "üßò"
                          completed_at:
                            type: string
                            format: date-time
                            example: "2025-10-02T08:15:00.000000Z"
                          energy_gained:
                            type: integer
                            example: 15
                            nullable: true
                          experience_gained:
                            type: integer
                            example: 8
                            nullable: true
                    stats:
                      type: object
                      properties:
                        total_performed:
                          type: integer
                          example: 89
                        today_performed:
                          type: integer
                          example: 3
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
      '404':
        description: –ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω
      '422':
        description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏"
                errors:
                  type: object

/micro-actions/{id}/perform:
  post:
    tags:
      - Micro Actions
    summary: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
    description: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏ –∏ –æ–ø—ã—Ç–∞
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: ID –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
        schema:
          type: integer
          example: 1
    responses:
      '200':
        description: –ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ!"
                data:
                  type: object
                  properties:
                    micro_action:
                      type: string
                      example: "–ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 4-7-8"
                      description: "–ù–∞–∑–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è"
                    rewards:
                      type: object
                      properties:
                        energy_gained:
                          type: integer
                          example: 15
                          description: "–ü–æ–ª—É—á–µ–Ω–Ω–∞—è —ç–Ω–µ—Ä–≥–∏—è"
                        experience_gained:
                          type: integer
                          example: 8
                          description: "–ü–æ–ª—É—á–µ–Ω–Ω—ã–π –æ–ø—ã—Ç"
                    player_changes:
                      type: object
                      properties:
                        old_energy:
                          type: integer
                          example: 70
                        new_energy:
                          type: integer
                          example: 85
                        old_level:
                          type: integer
                          example: 3
                        new_level:
                          type: integer
                          example: 3
                        level_up:
                          type: boolean
                          example: false
                          description: "–ü–æ–ª—É—á–∏–ª –ª–∏ –∏–≥—Ä–æ–∫ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å"
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
                      description: "–ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è"
                    cooldown_until:
                      type: string
                      format: date-time
                      nullable: true
                      example: "2025-10-02T09:45:00.000000Z"
                      description: "–í—Ä–µ–º—è, –¥–æ –∫–æ—Ç–æ—Ä–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"
      '201':
        description: –ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –∏ –∏–≥—Ä–æ–∫ –ø–æ–ª—É—á–∏–ª –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è!"
                data:
                  type: object
                  properties:
                    micro_action:
                      type: string
                      example: "–ì–ª—É–±–æ–∫–æ–µ –¥—ã—Ö–∞–Ω–∏–µ 4-7-8"
                    rewards:
                      type: object
                      properties:
                        energy_gained:
                          type: integer
                          example: 15
                        experience_gained:
                          type: integer
                          example: 8
                    player_changes:
                      type: object
                      properties:
                        old_energy:
                          type: integer
                          example: 85
                        new_energy:
                          type: integer
                          example: 100
                        old_level:
                          type: integer
                          example: 3
                        new_level:
                          type: integer
                          example: 4
                        level_up:
                          type: boolean
                          example: true
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
                    cooldown_until:
                      type: string
                      format: date-time
                      nullable: true
                      example: "2025-10-02T09:45:00.000000Z"
      '400':
        description: –î–µ–π—Å—Ç–≤–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (–∫—É–ª–¥–∞—É–Ω, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å)
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–î–µ–π—Å—Ç–≤–∏–µ –µ—â–µ –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–æ"
                cooldown_ends_at:
                  type: string
                  format: date-time
                  nullable: true
                  example: "2025-10-02T09:45:00.000000Z"
      '404':
        description: –ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –∏–ª–∏ –ø—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
      '422':
        description: –ù–µ–≤–µ—Ä–Ω—ã–π ID –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–ù–µ–≤–µ—Ä–Ω—ã–π ID –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è"
