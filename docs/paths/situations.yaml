/situations:
  get:
    tags:
      - Situations
    summary: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–∏—Ç—É–∞—Ü–∏–π, –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —É—Ä–æ–≤–Ω—è –∏–≥—Ä–æ–∫–∞
    security:
      - bearerAuth: []
    parameters:
      - name: category
        in: query
        description: –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–∏—Ç—É–∞—Ü–∏–∏
        required: false
        schema:
          type: string
          enum: [work, personal, health, social, education]
      - name: difficulty
        in: query
        description: –§–∏–ª—å—Ç—Ä –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        required: false
        schema:
          type: string
          enum: [easy, medium, hard]
      - name: page
        in: query
        description: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
        required: false
        schema:
          type: integer
          minimum: 1
          default: 1
    responses:
      '200':
        description: –°–ø–∏—Å–æ–∫ —Å–∏—Ç—É–∞—Ü–∏–π –ø–æ–ª—É—á–µ–Ω —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    situations:
                      type: array
                      items:
                        $ref: '../openapi.yaml#/components/schemas/Situation'
                    pagination:
                      type: object
                      properties:
                        current_page:
                          type: integer
                          example: 1
                        total_pages:
                          type: integer
                          example: 5
                        total:
                          type: integer
                          example: 45
                    player_info:
                      type: object
                      description: "üîó –°—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)"
                      properties:
                        current_stress:
                          type: integer
                          example: 35
                        current_energy:  
                          type: integer
                          example: 120
                        level:
                          type: integer
                          example: 5
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/random:
  get:
    tags:
      - Situations
    summary: –°–ª—É—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, –ø–æ–¥—Ö–æ–¥—è—â–µ–π –ø–æ —É—Ä–æ–≤–Ω—é –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
    security:
      - bearerAuth: []
    responses:
      '200':
        description: –°–ª—É—á–∞–π–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  $ref: '../openapi.yaml#/components/schemas/Situation'
      '404':
        description: –ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/random-recommended:
  get:
    tags:
      - Situations
    summary: –°–ª—É—á–∞–π–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è
    description: |
      –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –∏–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.
      
      **–õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞:**
      - –ò—Å–∫–ª—é—á–∞–µ—Ç —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
      - –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –∏–≥—Ä–æ–∫–∞
      - –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–º —Å—Ç—Ä–µ—Å—Å–µ (>70) - —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏ (stress_impact ‚â§ 0)
      - –ü—Ä–∏ –Ω–∏–∑–∫–æ–º —Å—Ç—Ä–µ—Å—Å–µ (<30) - –≤—ã–∑–æ–≤—ã –¥–ª—è —Ä–æ—Å—Ç–∞ (stress_impact ‚â• 0)
      - –ü—Ä–∏ —Å—Ä–µ–¥–Ω–µ–º —Å—Ç—Ä–µ—Å—Å–µ - –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
      - –§–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é –∏–≥—Ä–æ–∫–∞
      
      **–û—Ç–ª–∏—á–∏–µ –æ—Ç `/random`:** –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è vs –ø–æ–ª–Ω–∞—è —Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å
    security:
      - bearerAuth: []
    responses:
      '200':
        description: –°–ª—É—á–∞–π–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∞
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–°–ª—É—á–∞–π–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω–∞"
                data:
                  type: object
                  properties:
                    situation:
                      allOf:
                        - $ref: '../openapi.yaml#/components/schemas/Situation'
                        - type: object
                          example:
                            id: 15
                            title: "–ú–µ–¥–∏—Ç–∞—Ü–∏—è –≤ –ø–∞—Ä–∫–µ"
                            description: "–ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π —Å–æ–ª–Ω–µ—á–Ω—ã–π –¥–µ–Ω—å. –í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ —Ç–∏—Ö–æ–µ –º–µ—Å—Ç–æ –≤ –ø–∞—Ä–∫–µ..."
                            category: "health"
                            difficulty_level: 1
                            stress_impact: -10
                            experience_reward: 15
                            position: "phone"
                    options:
                      type: array
                      items:
                        $ref: '../openapi.yaml#/components/schemas/SituationOption'
                    player_info:
                      type: object
                      properties:
                        current_stress:
                          type: integer
                          example: 85
                          description: "–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –∏–≥—Ä–æ–∫–∞"
                        current_energy:
                          type: integer
                          example: 120
                        level:
                          type: integer
                          example: 1
                    is_recommended:
                      type: boolean
                      example: true
                      description: "–§–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π —á—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è –∏–∑ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π"
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '400':
        description: –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏–ª–∏ –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫—É–ª–¥–∞—É–Ω
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –¥–ª—è –≤–∞—à–µ–≥–æ —É—Ä–æ–≤–Ω—è"
                cooldown_ends_at:
                  type: string
                  format: date-time
                  example: "2025-01-15T14:30:00Z"
                  description: "–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)"
      '404':
        description: –ò–≥—Ä–æ–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/active:
  get:
    tags:
      - Situations
    summary: –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
    description: |
      –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—Å–µ—Ö —Ç–µ–∫—É—â–∏—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö –∏–≥—Ä–æ–∫–∞.
      
      **–ê–∫—Ç–∏–≤–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è** - —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –Ω–∞—á–∞—Ç–∞ (POST /situations/{id}/start), 
      –Ω–æ –µ—â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (POST /situations/{id}/complete).
      
      **–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
      - –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å–∏—Ç—É–∞—Ü–∏–π —Å –¥–µ—Ç–∞–ª—è–º–∏ –∏ –æ–ø—Ü–∏—è–º–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
      - –ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º
      
      –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
    security:
      - bearerAuth: []
    responses:
      '200':
        description: –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–ê–∫—Ç–∏–≤–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã (–Ω–∞–π–¥–µ–Ω–æ: 2)"
                data:
                  type: object
                  properties:
                    situations:
                      type: array
                      items:
                        type: object
                        properties:
                          player_situation_id:
                            type: integer
                            example: 123
                            description: "ID –∑–∞–ø–∏—Å–∏ –Ω–∞—á–∞—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è"
                          situation:
                            allOf:
                              - $ref: '../openapi.yaml#/components/schemas/Situation'
                              - type: object
                                example:
                                  id: 7
                                  title: "–ì–æ—Ä—è—â–∏–π –¥–µ–¥–ª–∞–π–Ω –Ω–∞ —Ä–∞–±–æ—Ç–µ"
                                  description: "–í–∞—à —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç —Å—Ä–æ—á–Ω–æ –∑–∞–∫–æ–Ω—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è..."
                                  category: "work"
                                  difficulty_level: 2
                                  stress_impact: 15
                                  experience_reward: 20
                                  position: "desktop"
                          options:
                            type: array
                            items:
                              $ref: '../openapi.yaml#/components/schemas/SituationOption'
                            description: "–î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏"
                          started_at:
                            type: string
                            format: date-time
                            example: "2025-09-24T14:30:00Z"
                            description: "–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å–∏—Ç—É–∞—Ü–∏–∏"
                      description: "–ú–∞—Å—Å–∏–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –∏–≥—Ä–æ–∫–∞"
                    count:
                      type: integer
                      example: 2
                      description: "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π"
                    player_info:
                      type: object
                      properties:
                        current_stress:
                          type: integer
                          example: 45
                          description: "–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞"
                        current_energy:
                          type: integer
                          example: 120
                        level:
                          type: integer
                          example: 2
                    player_state:
                      $ref: '../openapi.yaml#/components/schemas/PlayerState'
                    cooldown_info:
                      type: object
                      properties:
                        on_cooldown:
                          type: boolean
                          example: false
                        cooldown_ends_at:
                          type: string
                          format: date-time
                          nullable: true
                          example: null
                        can_start_new:
                          type: boolean
                          example: true
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/history:
  get:
    tags:
      - Situations
    summary: –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–∏—Ç—É–∞—Ü–∏–π, –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–º
    security:
      - bearerAuth: []
    parameters:
      - name: page
        in: query
        description: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
        required: false
        schema:
          type: integer
          minimum: 1
          default: 1
      - name: limit
        in: query
        description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
        required: false
        schema:
          type: integer
          minimum: 1
          maximum: 50
          default: 20
    responses:
      '200':
        description: –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—É—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    history:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          situation:
                            $ref: '../openapi.yaml#/components/schemas/Situation'
                          option_chosen:
                            $ref: '../openapi.yaml#/components/schemas/SituationOption'
                          completed_at:
                            type: string
                            format: date-time
                            example: "2025-09-04T10:15:30Z"
                          results:
                            type: object
                            properties:
                              experience_gained:
                                type: integer
                                example: 25
                              stress_change:
                                type: integer
                                example: -10
                    pagination:
                      type: object
                      properties:
                        current_page:
                          type: integer
                          example: 1
                        total_pages:
                          type: integer
                          example: 3
                        total:
                          type: integer
                          example: 45
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/recommendations:
  get:
    tags:
      - Situations
    summary: –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–π, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞
    security:
      - bearerAuth: []
    responses:
      '200':
        description: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    recommended_situations:
                      type: array
                      items:
                        allOf:
                          - $ref: '../openapi.yaml#/components/schemas/Situation'
                          - type: object
                            properties:
                              recommendation_reason:
                                type: string
                                example: "–ü–æ–º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞"
                              match_score:
                                type: number
                                format: float
                                minimum: 0
                                maximum: 1
                                example: 0.85
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/{id}:
  get:
    tags:
      - Situations
    summary: –î–µ—Ç–∞–ª–∏ —Å–∏—Ç—É–∞—Ü–∏–∏
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: ID —Å–∏—Ç—É–∞—Ü–∏–∏
        schema:
          type: integer
          example: 1
    responses:
      '200':
        description: –î–µ—Ç–∞–ª–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  $ref: '../openapi.yaml#/components/schemas/Situation'
      '404':
        description: –°–∏—Ç—É–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/{id}/start:
  post:
    tags:
      - Situations
    summary: –ò–Ω–∏—Ü–∏–∞—Ü–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏
    description: –ù–∞—á–∞–ª–æ —Å–∏—Ç—É–∞—Ü–∏–∏ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –±–∞–∑–æ–≤–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞ (stress_impact). –ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞—Ü–∏–∏ —Å–∏—Ç—É–∞—Ü–∏—é –º–æ–∂–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–±–æ—Ä–æ–º –æ–ø—Ü–∏–∏.
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: ID —Å–∏—Ç—É–∞—Ü–∏–∏
        schema:
          type: integer
          example: 1
    responses:
      '200':
        description: –°–∏—Ç—É–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –Ω–∞—á–∞—Ç–∞
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–°–∏—Ç—É–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –Ω–∞—á–∞—Ç–∞!"
                data:
                  type: object
                  properties:
                    situation:
                      type: object
                      properties:
                        id:
                          type: integer
                          example: 1
                        title:
                          type: string
                          example: "–ì–æ—Ä—è—â–∏–π –¥–µ–¥–ª–∞–π–Ω –Ω–∞ —Ä–∞–±–æ—Ç–µ"
                        description:
                          type: string
                          example: "–í–∞—à —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç —Å—Ä–æ—á–Ω–æ –∑–∞–∫–æ–Ω—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç..."
                        category:
                          type: string
                          example: "work"
                        stress_impact:
                          type: integer
                          example: 15
                        position:
                          type: string
                          example: "phone"
                          description: "–ú–µ—Å—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏ (phone, tv, desktop, etc.)"
                    options:
                      type: array
                      items:
                        $ref: '../openapi.yaml#/components/schemas/SituationOption'
                    player_changes:
                      type: object
                      properties:
                        old_stress:
                          type: integer
                          example: 30
                        new_stress:
                          type: integer
                          example: 45
                        stress_change:
                          type: integer
                          example: 15
                        current_energy:
                          type: integer
                          example: 80
                        current_level:
                          type: integer
                          example: 5
                    player_situation_id:
                      type: integer
                      example: 123
                      description: "ID –∑–∞–ø–∏—Å–∏ –Ω–∞—á–∞—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏"
      '400':
        description: –û—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —Å–∏—Ç—É–∞—Ü–∏–∏ (–∫—É–ª–¥–∞—É–Ω, –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å, —Å–∏—Ç—É–∞—Ü–∏—è —É–∂–µ –Ω–∞—á–∞—Ç–∞)
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: false
                message:
                  type: string
                  example: "–í—ã –µ—â–µ –Ω–µ –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Ç—É–∞—Ü–∏—é"
                cooldown_ends_at:
                  type: string
                  format: date-time
                  example: "2025-01-15T14:30:00Z"
                  description: "–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫—É–ª–¥–∞—É–Ω–∞ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)"
      '404':
        description: –°–∏—Ç—É–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/situations/{id}/complete:
  post:
    tags:
      - Situations
    summary: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏
    description: –í—ã–±–æ—Ä –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ—à–µ–Ω–∏—è —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: ID —Å–∏—Ç—É–∞—Ü–∏–∏
        schema:
          type: integer
          example: 1
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - option_id
            properties:
              option_id:
                type: integer
                example: 2
                description: "ID –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–µ—à–µ–Ω–∏—è"
    responses:
      '200':
        description: –°–∏—Ç—É–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–°–∏—Ç—É–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
                data:
                  type: object
                  properties:
                    experience_gained:
                      type: integer
                      example: 25
                    stress_change:
                      type: integer
                      example: -10
                    energy_spent:
                      type: integer
                      example: 20
                    level_up:
                      type: boolean
                      example: false
                    new_stats:
                      type: object
                      properties:
                        level:
                          type: integer
                          example: 5
                        experience:
                          type: integer
                          example: 475
                        energy:
                          type: integer
                          example: 80
                        stress:
                          type: integer
                          example: 20
      '400':
        description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –∏–ª–∏ –¥—Ä—É–≥–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '404':
        description: –°–∏—Ç—É–∞—Ü–∏—è –∏–ª–∏ –≤–∞—Ä–∏–∞–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
