/micro-actions:
  get:
    tags:
      - Micro Actions
    summary: –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–æ–º –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏
    security:
      - bearerAuth: []
    parameters:
      - name: category
        in: query
        description: –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
        required: false
        schema:
          type: string
          enum: [breathing, physical, mental, social]
      - name: max_energy_cost
        in: query
        description: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —ç–Ω–µ—Ä–≥–∏–∏
        required: false
        schema:
          type: integer
          minimum: 0
          maximum: 50
      - name: min_stress_reduction
        in: query
        description: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ —Å—Ç—Ä–µ—Å—Å–∞
        required: false
        schema:
          type: integer
          minimum: 0
          maximum: 30
    responses:
      '200':
        description: –°–ø–∏—Å–æ–∫ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—É—á–µ–Ω
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    micro_actions:
                      type: array
                      items:
                        $ref: '../openapi.yaml#/components/schemas/MicroAction'
                    player_info:
                      type: object
                      description: "üîó –°—Ç–∞—Ä—ã–π –æ–±—ä–µ–∫—Ç (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)"
                      properties:
                        current_energy:
                          type: integer
                          example: 120
                        level:
                          type: integer
                          example: 5
                    stats:
                      type: object
                      properties:
                        total_performed:
                          type: integer
                          example: 89
                        today_performed:
                          type: integer
                          example: 3
                player_state:
                  $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/micro-actions/recommendations:
  get:
    tags:
      - Micro Actions
    summary: –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä–æ–∫–∞
    security:
      - bearerAuth: []
    responses:
      '200':
        description: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    recommended_actions:
                      type: array
                      items:
                        allOf:
                          - $ref: '../openapi.yaml#/components/schemas/MicroAction'
                          - type: object
                            properties:
                              recommendation_reason:
                                type: string
                                example: "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–∞ –ø—Ä–∏ —Ç–µ–∫—É—â–µ–º —É—Ä–æ–≤–Ω–µ —ç–Ω–µ—Ä–≥–∏–∏"
                              effectiveness_score:
                                type: number
                                format: float
                                minimum: 0
                                maximum: 1
                                example: 0.92
                player_state:
                  $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/micro-actions/history:
  get:
    tags:
      - Micro Actions
    summary: –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π
    description: –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–π, –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–º
    security:
      - bearerAuth: []
    parameters:
      - name: page
        in: query
        description: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
        required: false
        schema:
          type: integer
          minimum: 1
          default: 1
      - name: limit
        in: query
        description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
        required: false
        schema:
          type: integer
          minimum: 1
          maximum: 100
          default: 50
      - name: date_from
        in: query
        description: –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞ (ISO 8601)
        required: false
        schema:
          type: string
          format: date
          example: "2025-09-01"
      - name: date_to
        in: query
        description: –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ —Ñ–∏–ª—å—Ç—Ä–∞ (ISO 8601)
        required: false
        schema:
          type: string
          format: date
          example: "2025-09-30"
    responses:
      '200':
        description: –ò—Å—Ç–æ—Ä–∏—è –ø–æ–ª—É—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                data:
                  type: object
                  properties:
                    history:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 1
                          micro_action:
                            $ref: '../openapi.yaml#/components/schemas/MicroAction'
                          performed_at:
                            type: string
                            format: date-time
                            example: "2025-09-04T14:30:00Z"
                          results:
                            type: object
                            properties:
                              stress_reduced:
                                type: integer
                                example: 10
                              energy_spent:
                                type: integer
                                example: 5
                              experience_gained:
                                type: integer
                                example: 3
                    pagination:
                      type: object
                      properties:
                        current_page:
                          type: integer
                          example: 1
                        total_pages:
                          type: integer
                          example: 5
                        total:
                          type: integer
                          example: 120
                    statistics:
                      type: object
                      properties:
                        total_actions_performed:
                          type: integer
                          example: 120
                        total_stress_reduced:
                          type: integer
                          example: 850
                        favorite_category:
                          type: string
                          example: "breathing"
                        average_daily_actions:
                          type: number
                          format: float
                          example: 4.2
                player_state:
                  $ref: '../openapi.yaml#/components/schemas/PlayerState'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

/micro-actions/{id}/perform:
  post:
    tags:
      - Micro Actions
    summary: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
    description: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è —Å—Ç—Ä–µ—Å—Å–∞
    security:
      - bearerAuth: []
    parameters:
      - name: id
        in: path
        required: true
        description: ID –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è
        schema:
          type: integer
          example: 1
    responses:
      '200':
        description: –ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
        content:
          application/json:
            schema:
              type: object
              properties:
                success:
                  type: boolean
                  example: true
                message:
                  type: string
                  example: "–ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ"
                data:
                  type: object
                  properties:
                    stress_reduced:
                      type: integer
                      example: 10
                    energy_spent:
                      type: integer
                      example: 5
                    experience_gained:
                      type: integer
                      example: 3
                    new_stats:
                      type: object
                      properties:
                        stress:
                          type: integer
                          example: 25
                        energy:
                          type: integer
                          example: 95
                        experience:
                          type: integer
                          example: 458
                    next_recommended_actions:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                            example: 3
                          name:
                            type: string
                            example: "–ú–µ–¥–∏—Ç–∞—Ü–∏—è"
                          category:
                            type: string
                            example: "mental"
                player_state:
                  $ref: '../openapi.yaml#/components/schemas/PlayerState'
                  description: "üéÆ –ê–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä–æ–∫–∞ –ü–û–°–õ–ï –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏—è"
      '400':
        description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è
        content:
          application/json:
            schema:
              allOf:
                - $ref: '../openapi.yaml#/components/responses/ErrorResponse'
                - type: object
                  properties:
                    message:
                      example: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è"
                    data:
                      type: object
                      properties:
                        required_energy:
                          type: integer
                          example: 10
                        current_energy:
                          type: integer
                          example: 5
      '404':
        description: –ú–∏–∫—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        content:
          application/json:
            schema:
              $ref: '../openapi.yaml#/components/responses/ErrorResponse'
      '401':
        description: –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
